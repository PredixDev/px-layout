<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-resizable-behavior/iron-resizable-behavior.html">
<link rel="import" href="px-layout-behavior.html">
<link rel="import" href="px-media-query.html">
<!--
The `px-header-layout` is a responsive layout that is used to display a brand header and/or navbar.
When the viewport is less than the `responsiveWidth` the brand header will be hidden.


Usage:

```
<px-header-layout>
  <px-header title="My App">
  </px-header>
    main content
</px-header-layout>
```
Usage with `px-navbar`:

```
<px-header-layout>
  <px-header>
    <px-navbar>
      <div title>App name</div>
    </px-navbar>
  </px-header>
    main content
</px-header-layout>
```



Usage with `px-drawer-layout`:

```
<px-drawer-layout>
	<px-drawer>
		drawer-content
	</px-drawer>
	<px-header-layout>
		<px-header>
			<px-navbar>
				<div title>App name</div>
			</px-navbar>
		</px-header>
			main content
	</px-header-layout>
</px-drawer-layout>
```
@element px-header-layout
@demo demo/template-header-layout.html
@homepage index.html
-->
<dom-module id="px-header-layout">
  <template>
    <style>
      :host {
        display: block;
        position: relative;
      }

    </style>

    <article class="flex flex--col flex--stretch">
      <content id="headerContainer" select="px-header"></content>
      <section id="contentContainer" class="flex flex--col flex--stretch">
        <content select=":not(px-header)"></content>
      </section>
    </article>

    <px-media-query query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]" on-query-matches-changed="_onQueryMatchesChanged"></px-media-query>

  </template>
  <script>
    Polymer({
      is: 'px-header-layout',
      behaviors: [
        Polymer.IronResizableBehavior, pxLayoutBehavior
      ],
      properties: {
        title: {
          type: String
        }
      },
      attached: function () {
        console.log(this.tagName, 'attached');
        this.drawer = this.queryEffectiveChildren('px-drawer');
      },
      detached: function () {
        console.log(this.tagName, 'detached');
      }
    });
  </script>
</dom-module>
