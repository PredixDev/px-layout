<link rel="import" href="../polymer/polymer.html" />
<script src="../px-mobile.js/dist/px-mobile.js"></script>
<link rel="import" href="../px-theme/px-theme.html">
<link rel="import" href="../px-theme/px-app.html">
<!--
<link rel="stylesheet" href="css/px-responsive-layouts.css">
-->
<link rel="import" href="px-responsive-layouts-styles.html">
<link rel="import" href="px-media-query.html">
<dom-module id="px-layout">


  <template>
    <style>
      :host {
        display: block;
        height: 100vh;
      }
    </style>
    <div class="">
      <!-- TODO: header -->
      <div class="viewport a11y-portable">
        <content select="px-header, .px-header"></content>
      </div>
      <!-- TODO: drawer -->
      <div class="viewport">
        <content select="px-drawer"></content>

        <!-- TODO: Static Drawer -->

        <!-- TODO: Views / Pages -->
        <content id="content" select=".l-container, .content, px-pages, px-view"></content>
      </div>



      <!-- TODO: Footer -->
      <div class="viewport a11y-portable">
        <content select="px-footer, .px-footer"></content>
      </div>
    </div>
  </template>
  <script>
    Polymer({
      is: 'px-layout',
      properties: {
        //The layout type (progressive, splitview, offcanvas)
        type: {
          type: String
        },
        breakpoints: {
          type: Object
        }
      },
      attached: function() {
        //px.utils.addMixin(new px.mobile.logger('px-layout'), this);
        this.toggleClass('l-container', true);
        this.toggleClass('l-container--' + this.type, true);




        if (window.matchMedia("(min-width: 400px)").matches) {
          /* the viewport is at least 400 pixels wide */
          console.log('min-width')
        } else {
          /* the viewport is less than 400 pixels wide */
        }

        console.warn(this.tagName, 'created');

        var distributed = this.getContentChildren('#content');
        console.log(distributed.length);
      },
      toggle: function(name) {

        var el = this.$.content.queryEffectiveChildren(name);
        console.warn('toggle', name, el);
      }

    });
  </script>
</dom-module>
