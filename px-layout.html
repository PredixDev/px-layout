<link rel="import" href="../polymer/polymer.html" />
<link rel="import" href="../px-theme/px-theme.html">
<link rel="import" href="../px-theme/px-app.html">
<link rel="import" href="../px-partials/px-partials.html">
<link rel="import" href="../px-navbar/px-navbar.html">
<link rel="import" href="../px-drawer/px-drawer.html">
<link rel="import" href="px-media-query.html">


<!--
## Overview
The px-layout element aims to help developers create responsive layouts.

The layout types are:

1. offcanvas
2. full
3. progressive
4. splitview


## Usage

```
Code Here
```
@element px-layout
@demo demo.html
@homepage index.html
-->
<dom-module id="px-layout">
  <link rel="stylesheet" href="css/px-responsive-layouts-sketch.css">
  <template strip-whitespace>
    <style>

      html, body{
        margin: 0 !important;
        width: 100%;
        height: 100%;
        overflow: hidden !important;
      }

      :host {
        display: block;
        position: relative;
        overflow: hidden;
        height: 100%;
      }

      :host .scrollable{
        max-height: 100vh;
        height: 100%;

        overflow: auto;
        -webkit-overflow-scrolling: touch;
      }


      :host .viewport{
        position: relative;
      }

      :host .l-primary-content,
      :host  .l-secondary-content{
        position: relative;
      }




    </style>
    <div id="main" class="flex flex--col">

      <!-- primary-sidebar -->
      <div class="l-primary-sidebar">
        <px-drawer id="primarySidebar" side="left" theme="dark">
          <content id="primarySidebarContent" select=".primary-sidebar"></content>
        </px-drawer>
      </div>


        <!-- header -->
        <div id="header" class="viewport l-header hidden-md-down">
          <content id="headerContent" select="px-header"></content>
        </div>


        <div id="viewport" class="viewport viewport--full-height">

          <div class="layout layout--flush layout--full scrollable">

            <!-- Secondary Content -->
            <div class="l-secondary-content layout__item">
              <content id="secondaryContent" select=".secondary-content"></content>
            </div>

            <!-- Primary Content -->
            <div class="l-primary-content layout__item">
              <content id="primaryContent" select=".primary-content"></content>
            </div>

            <!-- Any Content Views / Pages -->
            <div class="l-content layout__item">
              <content id="content" select=".content"></content>
            </div>

          </div>

        </div>

        <!-- secondary-sidebar -->
        <div class="l-secondary-sidebar">
          <px-drawer id="secondarySidebar" side="right" theme="dark">
            <content id="secondarySidebarContent" select=".secondary-sidebar"></content>
          </px-drawer>
        </div>


        <div id="footer" class="viewport hidden-md-down">
          <content id="footerContent" select="px-footer"></content>
        </div>
    </div>
  </template>
  <script>
    Polymer({
      is: 'px-layout',
      properties: {
        //The layout type (full, progressive, splitview, offcanvas)
        type: {
          type: String,
          value: 'full'
        },
        breakpoints: {
          type: Object,
          value: {
            xs: '(min-width: 330px)',
            sm: '(min-width: 480px)',
            md: '(min-width: 768px)',
            lg: '(min-width: 992px)',
            xl: '(min-width: 1200px)'
          }
        }
      },
      attached: function() {
        this.toggleClass('l-container', true, this.$.viewport);
        this.toggleClass('l-container--' + this.type, true, this.$.viewport);
      },
      toggle: function(name) {
        var el = this.$[name];
        if(el.toggle){
          el.toggle();
        }
        console.warn('toggle', name, el);
      },
      toggleContent: function(name){
        //toggle primary / secondary content is-active / is-passive
        console.log("toggle content");

      }

    });
  </script>
</dom-module>
