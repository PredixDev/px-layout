<link rel="import" href="../polymer/polymer.html" />
<script src="../px-mobile.js/dist/px-mobile.js"></script>
<link rel="import" href="../px-theme/px-theme.html">
<link rel="import" href="../px-theme/px-app.html">
<!--

-->
<link rel="stylesheet" href="css/px-responsive-layouts-sketch.css">
<link rel="import" href="px-responsive-layouts-styles.html">
<link rel="import" href="px-media-query.html">
<dom-module id="px-layout">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <div id="main" class="viewport--full-height">
      <!-- TODO: header -->
      <header id="header" class="viewport a11y-portable">
        <content select="px-header, .px-header"></content>
      </header>

      <!-- TODO: drawer -->
      <aside id="aside">
        <content select="px-drawer, .px-drawer"></content>
      </aside>

      <article id="article" class="viewport">
        <!-- TODO: Any Content Views / Pages -->
        <content id="content" select=".content"></content>
      </article>

      <!-- TODO: Footer -->
      <footer id="footer" class="viewport a11y-portable">
        <content select="px-footer, .px-footer"></content>
      </footer>
    </div>
  </template>
  <script>
    Polymer({
      is: 'px-layout',
      properties: {
        //The layout type (progressive, splitview, offcanvas)
        type: {
          type: String
        },
        breakpoints: {
          type: Object
        }
      },
      attached: function() {

        this.toggleClass('l-container', true);
        this.toggleClass('l-container--' + this.type, true);


        if (window.matchMedia("(min-width: 400px)").matches) {
          /* the viewport is at least 400 pixels wide */
          console.log('min-width')
        } else {
          /* the viewport is less than 400 pixels wide */
        }

        console.log(this.tagName, 'created');

        var distributed = this.getContentChildren('#content');
        console.log(this.tagName, distributed.length);
      },
      toggle: function(name) {

        var el = this.$.content.queryEffectiveChildren(name);
        console.warn('toggle', name, el);
      }

    });
  </script>
</dom-module>
